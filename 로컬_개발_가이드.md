# 🚀 로컬 개발 가이드

## ✅ 설정 완료!

Firebase Realtime Database가 로컬 에뮬레이터로 실행됩니다:
- ✅ **Realtime Database**: 로컬 에뮬레이터 (테스트 데이터)
- ✅ **권한 문제 없음!**

---

## 🎯 실행 방법

### 1️⃣ 터미널 1 - 에뮬레이터 시작

```bash
npm run emulators
```

### 2️⃣ 터미널 2 - 개발 서버 시작

새 터미널 열어서:
```bash
npm run dev
```

### 3️⃣ 접속

- **애플리케이션**: http://localhost:5173
- **에뮬레이터 UI**: http://localhost:4000 (데이터 관리 대시보드)

---

## 📊 에뮬레이터 UI 사용법

### http://localhost:4000 에서:

#### 1. Realtime Database 탭
- 실시간 데이터 확인
- 모든 데이터 노드 조회
- 수동으로 데이터 추가/수정 가능

#### 2. Logs 탭
- 모든 요청/응답 로그
- 에러 확인

---

## 💾 데이터 관리

### 자동 저장/복원

- **종료 시**: 모든 데이터가 `./emulator-data/` 폴더에 자동 저장
- **시작 시**: 이전 데이터 자동 복원

### 데이터 초기화

모든 데이터를 지우고 새로 시작하려면:
```bash
rm -rf emulator-data
npm run emulators
```

---

## 🧪 개발 워크플로우

### 1. 에뮬레이터와 개발 서버 시작
```bash
# 터미널 1
npm run emulators

# 터미널 2 (새 터미널)
npm run dev
```

### 2. 애플리케이션 접속
- http://localhost:5173 접속
- 닉네임 입력으로 로그인

### 3. 데이터 확인
- 에뮬레이터 UI (http://localhost:4000)에서 실시간 데이터 확인
- Realtime Database 탭에서 데이터 조회

---

## 🐛 문제 해결

### 포트 충돌 에러

**원인**: 포트가 이미 사용 중

**해결**:
```bash
# 실행 중인 프로세스 종료
pkill -f firebase

# 다시 시작
npm run emulators
```

### 데이터가 사라짐

**원인**: `--export-on-exit` 없이 종료

**해결**: Ctrl+C로 정상 종료하면 자동 저장됩니다

---

## ✨ 장점

### 1. 완전히 로컬
- ✅ 인터넷 없이 개발 가능
- ✅ 실제 Firebase 비용 없음
- ✅ 무제한 테스트

### 2. 권한 문제 없음
- ✅ Security Rules 테스트 가능
- ✅ PERMISSION_DENIED 에러 없음

### 3. 빠른 개발
- ✅ 코드 수정 → 자동 리로드
- ✅ 실시간 로그 확인

### 4. 안전한 개발
- ✅ 실제 Firebase에 영향 없음
- ✅ 실수해도 괜찮음
- ✅ 언제든지 데이터 초기화 가능

---

## 🚀 배포

### 로컬 테스트 완료 후:

```bash
# Hosting 배포
npm run deploy

# Database Rules 배포
firebase deploy --only database
```

---

## 📝 요약

### 개발 시작:
```bash
# 터미널 1
npm run emulators

# 터미널 2
npm run dev
```

### 접속:
- 앱: http://localhost:5173
- 관리: http://localhost:4000

### 종료:
- 터미널에서 `Ctrl+C` (데이터 자동 저장)

**모든 것이 로컬에서 작동하며, 권한 문제가 없습니다!** 🎉
